# GCD

**GCD**：Grand Central Dispatch异步执行任务的主要方式之一，GCD中线程管理任务交由系统实现，开发时只要将任务添加到适当的队列，GCD就能生成相应的线程去执行任务，由此提高任务处理在多核处理器上的效率

swift/Objective-C -> C/C++ -> 汇编 -> 机器码

当用户启动应用后，系统现将包含在应用内的CPU命令配置到内存中，CPU从程序指定的地址开始，一步一步执行CPU命令列，当遇到if或for等流程控制语句时，执行命令的地址会远离当前的地址（位置迁移），但是，因为一个CPU一次只能执行一个命令，不能执行某处分开的并列的两个命令，因此通过CPU执行的命令就如一条无分叉的路，其执行不会出现分歧

所以，一个CPU执行的CPU命令列为一条无分叉的路径 就是线程

<img src="../../Assets/gcd/单条无分叉CPU命令列.png" alt="单条无分叉CPU命令列.png" style="zoom:50%;" />

现在的多核CPU中，实际上有不止一个CPU核心，如果将一个CPU核心虚拟为两个CPU核心工作，虚拟后每个核心`执行CPU命令列仍是一条无岔路的路径`的规则不变，此时无岔路的路径不止一条，同时存在多条就是多线程。在多线程中，每个CPU核心执行多条不同路径上的不同命令

<img src="../../Assets/gcd/多线程中执行CPU命令列.png" alt="多线程中执行CPU命令列.png" style="zoom:50%;" />

